<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Loan Repayment Table - YALO</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg: #ffffff;
      --surface: #fbfdf9;
      --muted: #f4f7f4;
      --border: #e6ece6;
      --header-bg: #eef6ec;
      --paid-bg: #eaf8ec;
      --paid-text: #1f7a3a;
      --pending-bg: #fff8e6;
      --pending-text: #9a5800;
      --late-bg: #fff0f0;
      --late-text: #c53030;
    }

    *{box-sizing:border-box}
    body {
      font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      margin: 24px;
      background-color: #f7f9f7;
      color: #0f1720;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    h2{
      font-size:18px;
      font-weight:600;
      margin:0 0 12px 0;
      color:#163c2a;
    }

    /* Card-like table container */
    #repaymentTable{
      width:100%;
      border-collapse:separate;
      border-spacing:0;
      border-radius:12px;
      overflow:hidden;
      background:var(--bg);
      box-shadow:0 1px 0 rgba(16,24,32,0.04);
      border:1px solid var(--border);
    }

    thead th{
      background:var(--header-bg);
      color:#254c36;
      text-align:left;
      padding:14px 16px;
      font-weight:600;
      font-size:13px;
      border-bottom:1px solid var(--border);
    }

    tbody tr{
      border-bottom:1px solid var(--border);
      background:var(--bg);
    }

    td{
      padding:14px 16px;
      vertical-align:middle;
      font-size:14px;
      color:#0f1720;
    }

    /* Parent month link */
    .dropdown{
      cursor:pointer;
      color:#163c2a;
      text-decoration:none;
      font-weight:600;
      display:inline-block;
    }

    /* Child rows styling and indentation */
    .items{display:none}
    .item-row td{border-top:none;padding-left:42px;background:#fcfefc}

    /* Status badges adjusted to design system */
    .paid{
      display:inline-block;
      background:var(--paid-bg);
      color:var(--paid-text);
      padding:6px 10px;
      border-radius:12px;
      font-weight:600;
      font-size:12px;
      vertical-align:middle;
      margin-left:10px;
    }
    .pending{
      display:inline-block;
      background:var(--pending-bg);
      color:var(--pending-text);
      padding:6px 10px;
      border-radius:12px;
      font-weight:600;
      font-size:12px;
      vertical-align:middle;
      margin-left:10px;
    }
    .late{
      display:inline-block;
      background:var(--late-bg);
      color:var(--late-text);
      padding:6px 10px;
      border-radius:12px;
      font-weight:600;
      font-size:12px;
      vertical-align:middle;
      margin-left:10px;
    }

    /* subtle hover for parent rows */
    tbody tr:hover td{background:#fcfefc}

    /* keep table responsive */
    @media (max-width:640px){
      td, thead th{padding:10px}
    }
  </style>
</head>
<body>
  <h2>YALO Loan Repayment Schedule May 2025- January 2026 9 months </h2>
  <table id="repaymentTable">
    <thead>
      <tr>
        <th>Month</th>
        <th>Amount </th>
      </tr>
    </thead>
    <tbody>
      <!-- Rows generated by JS -->
    </tbody>
  </table>

  <script>
    const months = [
      "Security Deposit in April",
      "May",
      "June",
      "July",
      "August",
      "September",
      "October",
      "November",
      "December",
      "January"
    ];

    const tableBody = document.querySelector("#repaymentTable tbody");

    function randomStatusText() {
      return Math.random() > 0.5 
        ? "<span class='paid'>Paid</span>" 
        : "<span class='pending'>Due</span>";
    }

    function randomDueDate(monthIndex) {
      const day = Math.floor(Math.random() * 28) + 1;
      return `${day}/0${(monthIndex % 12) + 1}/2025`;
    }

    months.forEach((month, index) => {
      const row = document.createElement("tr");

      // Month column with status beside month name
      const monthCell = document.createElement("td");

      // For May (index 1) and June (index 2) show the new "Late" status in red
      let statusHTML;
      if (index === 0) {
        statusHTML = "<span class='paid'>Paid</span>";
      } else if (index === 1 || index === 2) {
        statusHTML = "<span class='late'>Late</span>";
      } else {
        statusHTML = randomStatusText();
      }

      if (index === 0) {
        // For Security Deposit in April: not clickable and no child rows
        monthCell.innerHTML = `${month} ${statusHTML}`;
      } else {
        monthCell.innerHTML = `<span class="dropdown" onclick="toggleItems('items-${index}')">${month}</span> ${statusHTML}`;
      }
      row.appendChild(monthCell);

      // Amount column (sum of rent 150,000 + marketplace 50,000)
      const amountCell = document.createElement("td");
      amountCell.textContent = "₦200,000";
      row.appendChild(amountCell);

      tableBody.appendChild(row);

      // If not the Security Deposit row, add child rows
      if (index !== 0) {
        // Dropdown items as child rows with amount in Amount column
        const rentRow = document.createElement("tr");
        rentRow.classList.add("item-row", "items");
        rentRow.id = `items-${index}`;
        rentRow.innerHTML = `
          <td>└ Rent Financing</td>
          <td>₦150,000</td>
        `;
        tableBody.appendChild(rentRow);

        const marketRow = document.createElement("tr");
        marketRow.classList.add("item-row", "items");
        marketRow.id = `items-${index}`;
        marketRow.innerHTML = `
          <td>└ Marketplace (Fridge)</td>
          <td>₦50,000</td>
        `;
        tableBody.appendChild(marketRow);
      }
    });

    function toggleItems(id) {
      const rows = document.querySelectorAll(`#${id}`);
      rows.forEach(row => {
        row.style.display = row.style.display === "table-row" ? "none" : "table-row";
      });
    }
  </script>
</body>
</html>
